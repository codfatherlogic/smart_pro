{"version":3,"file":"Approvals-BmxQIiSs.js","sources":["../../../frontend/src/views/Approvals.vue"],"sourcesContent":["<template>\n  <ion-page>\n    <ion-header>\n      <ion-toolbar>\n        <ion-buttons slot=\"start\">\n          <ion-back-button default-href=\"/smart-pro/home\" text=\"\" />\n        </ion-buttons>\n        <ion-title>Approvals</ion-title>\n        <ion-buttons slot=\"end\">\n          <ion-button @click=\"refreshData\">\n            <ion-icon :icon=\"refreshOutline\" />\n          </ion-button>\n        </ion-buttons>\n      </ion-toolbar>\n      <ion-toolbar>\n        <ion-segment v-model=\"approvalType\">\n          <ion-segment-button value=\"date_requests\">\n            <ion-label>Date Requests</ion-label>\n          </ion-segment-button>\n          <ion-segment-button value=\"timesheets\">\n            <ion-label>Time Sheets</ion-label>\n          </ion-segment-button>\n        </ion-segment>\n      </ion-toolbar>\n    </ion-header>\n\n    <ion-content :fullscreen=\"true\">\n      <ion-refresher slot=\"fixed\" @ion-refresh=\"handleRefresh\">\n        <ion-refresher-content />\n      </ion-refresher>\n\n      <!-- Loading State -->\n      <div\n        v-if=\"loading\"\n        class=\"p-4\"\n      >\n        <div\n          v-for=\"i in 3\"\n          :key=\"i\"\n          class=\"app-card mb-4 p-4\"\n        >\n          <div class=\"skeleton h-5 w-3/4 mb-2\" />\n          <div class=\"skeleton h-4 w-1/2 mb-2\" />\n          <div class=\"skeleton h-3 w-full\" />\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div\n        v-else-if=\"approvalType === 'date_requests' && dateRequests.length === 0\"\n        class=\"empty-state h-full\"\n      >\n        <ion-icon\n          :icon=\"checkmarkDoneOutline\"\n          class=\"empty-state-icon\"\n        />\n        <div class=\"empty-state-title\">\n          No pending date requests\n        </div>\n        <div class=\"empty-state-description\">\n          All date requests have been approved or rejected\n        </div>\n      </div>\n\n      <div\n        v-else-if=\"approvalType === 'timesheets' && timeSheets.length === 0\"\n        class=\"empty-state h-full\"\n      >\n        <ion-icon\n          :icon=\"timeOutline\"\n          class=\"empty-state-icon\"\n        />\n        <div class=\"empty-state-title\">\n          No pending time sheets\n        </div>\n        <div class=\"empty-state-description\">\n          All time sheets have been approved or rejected\n        </div>\n      </div>\n\n      <!-- Date Requests List -->\n      <div\n        v-else-if=\"approvalType === 'date_requests'\"\n        class=\"p-4\"\n      >\n        <div\n          v-for=\"request in dateRequests\"\n          :key=\"request.name\"\n          class=\"app-card mb-4 p-4\"\n        >\n          <div class=\"flex justify-between items-start mb-2\">\n            <div>\n              <h3 class=\"font-semibold text-gray-800\">\n                {{ request.employee_name }}\n              </h3>\n              <div class=\"text-sm text-gray-500\">\n                {{ request.request_type }}\n              </div>\n            </div>\n            <span class=\"status-badge pending\">\n              Pending\n            </span>\n          </div>\n\n          <div class=\"text-sm text-gray-600 mb-3\">\n            <div class=\"flex items-center mb-1\">\n              <ion-icon\n                :icon=\"calendarOutline\"\n                class=\"mr-2\"\n              />\n              {{ formatDate(request.from_date) }} - {{ formatDate(request.to_date) }}\n            </div>\n            <div\n              v-if=\"request.project_title\"\n              class=\"mt-1 text-blue-600\"\n            >\n              <strong>Project:</strong> {{ request.project_title }}\n            </div>\n            <div\n              v-if=\"request.reason\"\n              class=\"mt-2 line-clamp-3\"\n            >\n              <strong>Reason:</strong> {{ stripHtml(request.reason) }}\n            </div>\n            <div\n              v-if=\"request.auto_create_tasks\"\n              class=\"mt-2 text-xs text-green-600\"\n            >\n              Tasks will be auto-created on approval\n            </div>\n          </div>\n\n          <div class=\"flex space-x-2\">\n            <ion-button\n              expand=\"block\"\n              color=\"success\"\n              size=\"small\"\n              :disabled=\"processingRequest === request.name\"\n              @click=\"approveRequest(request.name)\"\n            >\n              <ion-spinner\n                v-if=\"processingRequest === request.name\"\n                name=\"crescent\"\n                class=\"mr-2\"\n              />\n              Approve\n            </ion-button>\n            <ion-button\n              expand=\"block\"\n              color=\"danger\"\n              size=\"small\"\n              :disabled=\"processingRequest === request.name\"\n              @click=\"rejectRequest(request.name)\"\n            >\n              <ion-spinner\n                v-if=\"processingRequest === request.name\"\n                name=\"crescent\"\n                class=\"mr-2\"\n              />\n              Reject\n            </ion-button>\n            <ion-button\n              expand=\"block\"\n              color=\"medium\"\n              size=\"small\"\n              @click=\"viewDetails(request)\"\n            >\n              Details\n            </ion-button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Time Sheets List -->\n      <div\n        v-else\n        class=\"p-4\"\n      >\n        <div\n          v-for=\"timesheet in timeSheets\"\n          :key=\"timesheet.name\"\n          class=\"app-card mb-4 p-4\"\n        >\n          <div class=\"flex justify-between items-start mb-2\">\n            <div>\n              <h3 class=\"font-semibold text-gray-800\">\n                {{ timesheet.employee || 'Employee' }}\n              </h3>\n              <div class=\"text-sm text-gray-500\">\n                {{ timesheet.task || 'General Work' }}\n              </div>\n            </div>\n            <span :class=\"['status-badge', getTimesheetStatusClass(timesheet.status)]\">\n              {{ timesheet.status }}\n            </span>\n          </div>\n\n          <div class=\"text-sm text-gray-600 mb-3\">\n            <div class=\"flex items-center mb-1\">\n              <ion-icon\n                :icon=\"calendarOutline\"\n                class=\"mr-2\"\n              />\n              {{ formatDate(timesheet.date) }}\n            </div>\n            <div class=\"flex items-center\">\n              <ion-icon\n                :icon=\"timeOutline\"\n                class=\"mr-2\"\n              />\n              {{ timesheet.hours_worked }} hours\n            </div>\n            <div\n              v-if=\"timesheet.project\"\n              class=\"mt-1\"\n            >\n              <strong>Project:</strong> {{ timesheet.project }}\n            </div>\n          </div>\n\n          <div class=\"flex space-x-2\">\n            <ion-button\n              v-if=\"timesheet.status === 'Submitted'\"\n              expand=\"block\"\n              color=\"success\"\n              size=\"small\"\n              :disabled=\"processingTimesheet === timesheet.name\"\n              @click=\"approveTimesheet(timesheet.name)\"\n            >\n              <ion-spinner\n                v-if=\"processingTimesheet === timesheet.name\"\n                name=\"crescent\"\n                class=\"mr-2\"\n              />\n              Approve\n            </ion-button>\n            <ion-button\n              v-if=\"timesheet.status === 'Submitted'\"\n              expand=\"block\"\n              color=\"danger\"\n              size=\"small\"\n              :disabled=\"processingTimesheet === timesheet.name\"\n              @click=\"rejectTimesheet(timesheet.name)\"\n            >\n              <ion-spinner\n                v-if=\"processingTimesheet === timesheet.name\"\n                name=\"crescent\"\n                class=\"mr-2\"\n              />\n              Reject\n            </ion-button>\n            <ion-button\n              expand=\"block\"\n              color=\"medium\"\n              size=\"small\"\n              @click=\"viewTimesheetDetails(timesheet)\"\n            >\n              Details\n            </ion-button>\n          </div>\n        </div>\n      </div>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script setup>\nimport { ref, onMounted, watch } from \"vue\"\nimport {\n  IonPage,\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonContent,\n  IonButton,\n  IonButtons,\n  IonBackButton,\n  IonIcon,\n  IonRefresher,\n  IonRefresherContent,\n  IonSegment,\n  IonSegmentButton,\n  IonLabel,\n  IonSpinner,\n  toastController,\n  onIonViewWillEnter,\n} from \"@ionic/vue\"\nimport {\n  refreshOutline,\n  calendarOutline,\n  timeOutline,\n  checkmarkDoneOutline,\n} from \"ionicons/icons\"\nimport { call } from \"frappe-ui\"\n\nconst loading = ref(true)\nconst approvalType = ref(\"date_requests\")\nconst dateRequests = ref([])\nconst timeSheets = ref([])\nconst processingRequest = ref(\"\")\nconst processingTimesheet = ref(\"\")\n\nasync function loadDateRequests() {\n  try {\n    const result = await call(\"smart_pro.smart_pro.api.projects.get_pending_approvals\")\n    dateRequests.value = result?.date_requests || []\n  } catch (err) {\n    console.error(\"Error loading date requests:\", err)\n  }\n}\n\nasync function loadTimeSheets() {\n  try {\n    const result = await call(\"smart_pro.smart_pro.api.projects.get_team_time_sheets\")\n    // Filter for pending time sheets (status = \"Submitted\")\n    timeSheets.value = (result || []).filter(ts => ts.status === \"Submitted\")\n  } catch (err) {\n    console.error(\"Error loading time sheets:\", err)\n  }\n}\n\nasync function loadData() {\n  loading.value = true\n  await Promise.all([loadDateRequests(), loadTimeSheets()])\n  loading.value = false\n}\n\nasync function approveRequest(requestId) {\n  processingRequest.value = requestId\n  try {\n    await call(\"smart_pro.smart_pro.api.projects.approve_date_request\", {\n      request_id: requestId,\n      status: \"Approved\",\n    })\n\n    const toast = await toastController.create({\n      message: \"Request approved successfully!\",\n      duration: 2000,\n      color: \"success\",\n    })\n    await toast.present()\n\n    // Remove from list\n    dateRequests.value = dateRequests.value.filter(req => req.name !== requestId)\n  } catch (err) {\n    console.error(\"Error approving request:\", err)\n    const toast = await toastController.create({\n      message: err.messages?.[0] || \"Failed to approve request\",\n      duration: 3000,\n      color: \"danger\",\n    })\n    await toast.present()\n  } finally {\n    processingRequest.value = \"\"\n  }\n}\n\nasync function rejectRequest(requestId) {\n  processingRequest.value = requestId\n  try {\n    await call(\"smart_pro.smart_pro.api.projects.approve_date_request\", {\n      request_id: requestId,\n      status: \"Rejected\",\n    })\n\n    const toast = await toastController.create({\n      message: \"Request rejected successfully!\",\n      duration: 2000,\n      color: \"warning\",\n    })\n    await toast.present()\n\n    // Remove from list\n    dateRequests.value = dateRequests.value.filter(req => req.name !== requestId)\n  } catch (err) {\n    console.error(\"Error rejecting request:\", err)\n    const toast = await toastController.create({\n      message: err.messages?.[0] || \"Failed to reject request\",\n      duration: 3000,\n      color: \"danger\",\n    })\n    await toast.present()\n  } finally {\n    processingRequest.value = \"\"\n  }\n}\n\nasync function approveTimesheet(timesheetId) {\n  processingTimesheet.value = timesheetId\n  try {\n    await call(\"frappe.client.set_value\", {\n      doctype: \"Smart Time Sheet\",\n      name: timesheetId,\n      fieldname: {\n        status: \"Approved\",\n      },\n    })\n\n    const toast = await toastController.create({\n      message: \"Time sheet approved successfully!\",\n      duration: 2000,\n      color: \"success\",\n    })\n    await toast.present()\n\n    // Remove from list\n    timeSheets.value = timeSheets.value.filter(ts => ts.name !== timesheetId)\n  } catch (err) {\n    console.error(\"Error approving time sheet:\", err)\n    const toast = await toastController.create({\n      message: err.messages?.[0] || \"Failed to approve time sheet\",\n      duration: 3000,\n      color: \"danger\",\n    })\n    await toast.present()\n  } finally {\n    processingTimesheet.value = \"\"\n  }\n}\n\nasync function rejectTimesheet(timesheetId) {\n  processingTimesheet.value = timesheetId\n  try {\n    await call(\"frappe.client.set_value\", {\n      doctype: \"Smart Time Sheet\",\n      name: timesheetId,\n      fieldname: {\n        status: \"Rejected\",\n      },\n    })\n\n    const toast = await toastController.create({\n      message: \"Time sheet rejected successfully!\",\n      duration: 2000,\n      color: \"warning\",\n    })\n    await toast.present()\n\n    // Remove from list\n    timeSheets.value = timeSheets.value.filter(ts => ts.name !== timesheetId)\n  } catch (err) {\n    console.error(\"Error rejecting time sheet:\", err)\n    const toast = await toastController.create({\n      message: err.messages?.[0] || \"Failed to reject time sheet\",\n      duration: 3000,\n      color: \"danger\",\n    })\n    await toast.present()\n  } finally {\n    processingTimesheet.value = \"\"\n  }\n}\n\nfunction viewDetails(request) {\n  // For now, just show an alert\n  alert(`Request Details:\\nEmployee: ${request.employee_name}\\nType: ${request.request_type}\\nDates: ${formatDate(request.from_date)} to ${formatDate(request.to_date)}\\nReason: ${request.reason || 'None'}`)\n}\n\nfunction viewTimesheetDetails(timesheet) {\n  alert(`Time Sheet Details:\\nEmployee: ${timesheet.employee}\\nDate: ${formatDate(timesheet.date)}\\nHours: ${timesheet.hours_worked}\\nTask: ${timesheet.task || 'None'}\\nProject: ${timesheet.project || 'None'}`)\n}\n\nfunction formatDate(dateStr) {\n  if (!dateStr) return \"-\"\n  const date = new Date(dateStr)\n  return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })\n}\n\nfunction stripHtml(html) {\n  if (!html) return \"\"\n  return html.replace(/<[^>]*>/g, \"\")\n}\n\nfunction getTimesheetStatusClass(status) {\n  const map = {\n    Draft: \"planning\",\n    Submitted: \"pending\",\n    Approved: \"completed\",\n    Rejected: \"cancelled\",\n  }\n  return map[status] || \"\"\n}\n\nfunction handleRefresh(event) {\n  loadData().finally(() => {\n    event.target.complete()\n  })\n}\n\nfunction refreshData() {\n  loadData()\n}\n\nwatch(approvalType, () => {\n  // Optional: Load data when switching tabs\n})\n\nonMounted(() => {\n  loadData()\n})\n\n// Reload data when navigating back to this tab\nonIonViewWillEnter(() => {\n  loadData()\n})\n</script>\n\n<style scoped>\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n  text-align: center;\n}\n\n.empty-state-icon {\n  font-size: 4rem;\n  color: var(--ion-color-medium);\n  margin-bottom: 1rem;\n}\n\n.empty-state-title {\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--ion-color-dark);\n  margin-bottom: 0.5rem;\n}\n\n.empty-state-description {\n  color: var(--ion-color-medium);\n  max-width: 20rem;\n}\n\n.status-badge {\n  display: inline-block;\n  padding: 0.25rem 0.75rem;\n  border-radius: 9999px;\n  font-size: 0.75rem;\n  font-weight: 600;\n  text-transform: uppercase;\n}\n\n.status-badge.pending {\n  background-color: #fef3c7;\n  color: #92400e;\n}\n\n.status-badge.planning {\n  background-color: #e0f2fe;\n  color: #0369a1;\n}\n\n.status-badge.completed {\n  background-color: #d1fae5;\n  color: #065f46;\n}\n\n.status-badge.cancelled {\n  background-color: #fee2e2;\n  color: #991b1b;\n}\n\n.skeleton {\n  background-color: #e5e7eb;\n  border-radius: 0.25rem;\n  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n\n.app-card {\n  background-color: white;\n  border-radius: 0.75rem;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n  transition: box-shadow 0.2s;\n}\n\n.app-card:hover {\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n</style>"],"names":["loading","ref","approvalType","dateRequests","timeSheets","processingRequest","processingTimesheet","loadDateRequests","__async","result","call","err","loadTimeSheets","ts","loadData","approveRequest","requestId","toastController","req","_a","rejectRequest","approveTimesheet","timesheetId","rejectTimesheet","viewDetails","request","formatDate","viewTimesheetDetails","timesheet","dateStr","stripHtml","html","getTimesheetStatusClass","status","handleRefresh","event","refreshData","watch","onMounted","onIonViewWillEnter","_createBlock","_unref","IonPage","_createVNode","IonHeader","IonToolbar","IonButtons","IonBackButton","IonTitle","_cache","IonButton","IonIcon","refreshOutline","IonSegment","$event","IonSegmentButton","IonLabel","IonContent","IonRefresher","IonRefresherContent","_openBlock","_createElementBlock","_hoisted_1","_Fragment","_renderList","i","_createElementVNode","_hoisted_2","checkmarkDoneOutline","_hoisted_3","timeOutline","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","_hoisted_8","_hoisted_9","calendarOutline","_createTextVNode","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","IonSpinner","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_normalizeClass","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22"],"mappings":"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"}