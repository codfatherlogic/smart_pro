{"version":3,"file":"Home-Bj1W530U.js","sources":["../../../frontend/src/views/Home.vue"],"sourcesContent":["<template>\n  <ion-page>\n    <ion-header>\n      <ion-toolbar>\n        <ion-title>{{ appName }}</ion-title>\n        <ion-buttons slot=\"end\">\n          <ion-button @click=\"toggleDarkMode\" class=\"theme-btn\">\n            <ion-icon :icon=\"isDarkMode ? sunnyOutline : moonOutline\" />\n          </ion-button>\n          <ion-button @click=\"goToNotifications\" class=\"notification-btn\">\n            <ion-icon :icon=\"notificationsOutline\" />\n            <span\n              v-if=\"notificationCount > 0\"\n              class=\"notification-badge\"\n            >\n              {{ notificationCount > 9 ? '9+' : notificationCount }}\n            </span>\n          </ion-button>\n        </ion-buttons>\n      </ion-toolbar>\n    </ion-header>\n\n    <ion-content :fullscreen=\"true\">\n      <ion-refresher slot=\"fixed\" @ion-refresh=\"handleRefresh\">\n        <ion-refresher-content />\n      </ion-refresher>\n\n      <div class=\"p-4\">\n        <!-- Welcome Section -->\n        <div class=\"mb-6\">\n          <h1 class=\"text-2xl font-bold text-gray-800\">\n            Welcome back!\n          </h1>\n          <p class=\"text-gray-500\">\n            Here's your overview\n          </p>\n        </div>\n\n        <!-- Stats Cards -->\n        <div class=\"grid grid-cols-2 gap-4 mb-6\">\n          <div class=\"app-card p-4\">\n            <div class=\"text-3xl font-bold text-primary-500\">\n              {{ stats.projects }}\n            </div>\n            <div class=\"text-sm text-gray-500\">\n              Active Projects\n            </div>\n          </div>\n          <div class=\"app-card p-4\">\n            <div class=\"text-3xl font-bold text-orange-500\">\n              {{ stats.tasks }}\n            </div>\n            <div class=\"text-sm text-gray-500\">\n              Pending Tasks\n            </div>\n          </div>\n        </div>\n\n        <!-- Recent Projects -->\n        <div class=\"app-card mb-6\">\n          <div class=\"app-card-header flex justify-between items-center\">\n            <span>Recent Projects</span>\n            <ion-button\n              fill=\"clear\"\n              size=\"small\"\n              @click=\"router.push('/smart-pro/projects')\"\n            >\n              See All\n            </ion-button>\n          </div>\n          <div\n            v-if=\"loading\"\n            class=\"p-4\"\n          >\n            <div class=\"skeleton h-16 mb-3\" />\n            <div class=\"skeleton h-16 mb-3\" />\n          </div>\n          <div\n            v-else-if=\"projects.length === 0\"\n            class=\"empty-state py-8\"\n          >\n            <div class=\"empty-state-title\">\n              No projects yet\n            </div>\n            <div class=\"empty-state-description\">\n              Create your first project to get started\n            </div>\n          </div>\n          <div v-else>\n            <div\n              v-for=\"project in projects.slice(0, 3)\"\n              :key=\"project.name\"\n              class=\"app-list-item\"\n              @click=\"goToProject(project.name)\"\n            >\n              <div class=\"flex-1\">\n                <div class=\"font-medium text-gray-800\">\n                  {{ project.title || project.name }}\n                </div>\n                <div class=\"text-sm text-gray-500\">\n                  {{ formatDate(project.end_date) }}\n                </div>\n              </div>\n              <span :class=\"['status-badge', getStatusClass(project.status)]\">\n                {{ project.status }}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Connections Dashboard Link -->\n        <div\n          class=\"app-card mb-6 p-4 cursor-pointer\"\n          @click=\"router.push('/smart-pro/connections')\"\n        >\n          <div class=\"flex items-center justify-between\">\n            <div class=\"flex items-center\">\n              <div class=\"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center mr-3\">\n                <ion-icon :icon=\"gitNetworkOutline\" class=\"text-xl text-purple-600\" />\n              </div>\n              <div>\n                <div class=\"font-semibold text-gray-800\">Connections Dashboard</div>\n                <div class=\"text-sm text-gray-500\">View all doctypes & relationships</div>\n              </div>\n            </div>\n            <ion-icon :icon=\"chevronForwardOutline\" class=\"text-gray-400\" />\n          </div>\n        </div>\n\n        <!-- Insights Dashboard (Full Access Users Only) -->\n        <div\n          v-if=\"hasFullAccess\"\n          class=\"app-card mb-6\"\n        >\n          <div class=\"app-card-header flex items-center\">\n            <ion-icon :icon=\"analyticsOutline\" class=\"text-lg text-blue-600 mr-2\" />\n            <span>Insights Dashboard</span>\n          </div>\n          <div class=\"p-4\">\n            <!-- Project Status Overview -->\n            <div class=\"mb-4\">\n              <div class=\"text-sm font-medium text-gray-700 mb-2\">Project Status</div>\n              <div class=\"grid grid-cols-2 gap-2\">\n                <div class=\"bg-green-50 rounded-lg p-3 text-center\">\n                  <div class=\"text-xl font-bold text-green-600\">{{ insights.activeProjects }}</div>\n                  <div class=\"text-xs text-green-700\">Active</div>\n                </div>\n                <div class=\"bg-blue-50 rounded-lg p-3 text-center\">\n                  <div class=\"text-xl font-bold text-blue-600\">{{ insights.planningProjects }}</div>\n                  <div class=\"text-xs text-blue-700\">Planning</div>\n                </div>\n                <div class=\"bg-yellow-50 rounded-lg p-3 text-center\">\n                  <div class=\"text-xl font-bold text-yellow-600\">{{ insights.onHoldProjects }}</div>\n                  <div class=\"text-xs text-yellow-700\">On Hold</div>\n                </div>\n                <div class=\"bg-gray-50 rounded-lg p-3 text-center\">\n                  <div class=\"text-xl font-bold text-gray-600\">{{ insights.completedProjects }}</div>\n                  <div class=\"text-xs text-gray-700\">Completed</div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Task Overview -->\n            <div class=\"mb-4\">\n              <div class=\"text-sm font-medium text-gray-700 mb-2\">Task Overview</div>\n              <div class=\"grid grid-cols-3 gap-2\">\n                <div class=\"bg-blue-50 rounded-lg p-3 text-center\">\n                  <div class=\"text-xl font-bold text-blue-600\">{{ insights.openTasks }}</div>\n                  <div class=\"text-xs text-blue-700\">Open</div>\n                </div>\n                <div class=\"bg-orange-50 rounded-lg p-3 text-center\">\n                  <div class=\"text-xl font-bold text-orange-600\">{{ insights.workingTasks }}</div>\n                  <div class=\"text-xs text-orange-700\">Working</div>\n                </div>\n                <div class=\"bg-green-50 rounded-lg p-3 text-center\">\n                  <div class=\"text-xl font-bold text-green-600\">{{ insights.completedTasks }}</div>\n                  <div class=\"text-xs text-green-700\">Done</div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Team & Assignments -->\n            <div>\n              <div class=\"text-sm font-medium text-gray-700 mb-2\">Summary</div>\n              <div class=\"space-y-2\">\n                <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                  <span class=\"text-sm text-gray-600\">Total Projects</span>\n                  <span class=\"font-semibold text-gray-800\">{{ insights.totalProjects }}</span>\n                </div>\n                <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                  <span class=\"text-sm text-gray-600\">Total Tasks</span>\n                  <span class=\"font-semibold text-gray-800\">{{ insights.totalTasks }}</span>\n                </div>\n                <div class=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                  <span class=\"text-sm text-gray-600\">Completion Rate</span>\n                  <span class=\"font-semibold text-green-600\">{{ insights.completionRate }}%</span>\n                </div>\n                <div class=\"flex justify-between items-center py-2\">\n                  <span class=\"text-sm text-gray-600\">Overdue Tasks</span>\n                  <span :class=\"['font-semibold', insights.overdueTasks > 0 ? 'text-red-600' : 'text-gray-800']\">\n                    {{ insights.overdueTasks }}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- My Tasks -->\n        <div class=\"app-card\">\n          <div class=\"app-card-header flex justify-between items-center\">\n            <span>My Tasks</span>\n            <ion-button\n              fill=\"clear\"\n              size=\"small\"\n              @click=\"router.push('/smart-pro/tasks')\"\n            >\n              See All\n            </ion-button>\n          </div>\n          <div\n            v-if=\"loading\"\n            class=\"p-4\"\n          >\n            <div class=\"skeleton h-16 mb-3\" />\n            <div class=\"skeleton h-16 mb-3\" />\n          </div>\n          <div\n            v-else-if=\"tasks.length === 0\"\n            class=\"empty-state py-8\"\n          >\n            <div class=\"empty-state-title\">\n              No tasks assigned\n            </div>\n            <div class=\"empty-state-description\">\n              Tasks assigned to you will appear here\n            </div>\n          </div>\n          <div v-else>\n            <div\n              v-for=\"task in tasks.slice(0, 3)\"\n              :key=\"task.name\"\n              class=\"app-list-item\"\n              @click=\"goToTask(task.name)\"\n            >\n              <div class=\"flex-1\">\n                <div class=\"font-medium text-gray-800\">\n                  {{ task.title || task.name }}\n                </div>\n                <div class=\"text-sm text-gray-500\">\n                  Due: {{ formatDate(task.due_date) }}\n                </div>\n                <div class=\"progress-bar mt-2\">\n                  <div\n                    class=\"progress-bar-fill\"\n                    :style=\"{ width: (task.progress || 0) + '%' }\"\n                  />\n                </div>\n              </div>\n              <span :class=\"['status-badge', getStatusClass(task.status)]\">\n                {{ task.status }}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script setup>\nimport { ref, onMounted, inject } from \"vue\"\nimport { onIonViewWillEnter } from \"@ionic/vue\"\nimport { useRouter } from \"vue-router\"\nimport {\n  IonPage,\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonContent,\n  IonRefresher,\n  IonRefresherContent,\n  IonButton,\n  IonButtons,\n  IonIcon,\n} from \"@ionic/vue\"\nimport { gitNetworkOutline, chevronForwardOutline, notificationsOutline, moonOutline, sunnyOutline, analyticsOutline } from \"ionicons/icons\"\nimport { createResource, call } from \"frappe-ui\"\nimport { usePermissions } from \"@/composables/usePermissions\"\n\nconst router = useRouter()\nconst $dayjs = inject(\"$dayjs\")\nconst { fetchPermissions, hasFullAccess } = usePermissions()\n\nconst loading = ref(true)\nconst projects = ref([])\nconst tasks = ref([])\nconst stats = ref({ projects: 0, tasks: 0 })\nconst insights = ref({\n  totalProjects: 0,\n  activeProjects: 0,\n  planningProjects: 0,\n  onHoldProjects: 0,\n  completedProjects: 0,\n  totalTasks: 0,\n  openTasks: 0,\n  workingTasks: 0,\n  completedTasks: 0,\n  overdueTasks: 0,\n  completionRate: 0,\n})\nconst notificationCount = ref(0)\nconst appName = ref(\"Smart Pro\")\nconst isDarkMode = ref(false)\n\nconst projectsResource = createResource({\n  url: \"smart_pro.smart_pro.api.projects.get_user_projects\",\n  auto: false,\n})\n\nconst tasksResource = createResource({\n  url: \"smart_pro.smart_pro.api.projects.get_user_tasks\",\n  auto: false,\n})\n\n// Cache timestamp to avoid unnecessary reloads\nlet lastLoadTime = 0\nconst CACHE_TTL = 30000 // 30 seconds\n\nasync function loadData(forceRefresh = false) {\n  const now = Date.now()\n\n  // Skip reload if data is fresh (unless forced)\n  if (!forceRefresh && lastLoadTime && (now - lastLoadTime) < CACHE_TTL && projects.value.length > 0) {\n    return\n  }\n\n  loading.value = projects.value.length === 0 // Only show loading on first load\n  try {\n    // Fetch permissions first\n    await fetchPermissions()\n    console.log(\"Home.vue - hasFullAccess:\", hasFullAccess.value)\n\n    // For full access users, get all data; otherwise get user's data\n    if (hasFullAccess.value) {\n      try {\n        const [allProjects, allTasks] = await Promise.all([\n          call(\"smart_pro.smart_pro.api.projects.get_all_projects\"),\n          call(\"smart_pro.smart_pro.api.projects.get_all_tasks\"),\n        ])\n        projects.value = allProjects || []\n        tasks.value = allTasks || []\n        console.log(\"Home.vue - Loaded all projects:\", projects.value.length)\n      } catch (fullAccessError) {\n        console.error(\"Error loading all data (falling back to user data):\", fullAccessError)\n        // Fallback to user-specific data if full access fails\n        await Promise.all([projectsResource.fetch(), tasksResource.fetch()])\n        projects.value = projectsResource.data || []\n        tasks.value = tasksResource.data || []\n      }\n    } else {\n      await Promise.all([projectsResource.fetch(), tasksResource.fetch()])\n      projects.value = projectsResource.data || []\n      tasks.value = tasksResource.data || []\n      console.log(\"Home.vue - Loaded user projects:\", projects.value.length)\n    }\n    stats.value = {\n      projects: projects.value.filter((p) => p.status === \"Active\").length,\n      tasks: tasks.value.filter((t) => t.status !== \"Completed\").length,\n    }\n\n    // Calculate insights for full access users\n    if (hasFullAccess.value) {\n      const today = $dayjs().format(\"YYYY-MM-DD\")\n      const completedTasksCount = tasks.value.filter((t) => t.status === \"Completed\").length\n      const totalTasksCount = tasks.value.length\n\n      insights.value = {\n        totalProjects: projects.value.length,\n        activeProjects: projects.value.filter((p) => p.status === \"Active\").length,\n        planningProjects: projects.value.filter((p) => p.status === \"Planning\").length,\n        onHoldProjects: projects.value.filter((p) => p.status === \"On Hold\").length,\n        completedProjects: projects.value.filter((p) => p.status === \"Completed\").length,\n        totalTasks: totalTasksCount,\n        openTasks: tasks.value.filter((t) => t.status === \"Open\").length,\n        workingTasks: tasks.value.filter((t) => t.status === \"Working\" || t.status === \"Pending Review\").length,\n        completedTasks: completedTasksCount,\n        overdueTasks: tasks.value.filter((t) => t.due_date && t.due_date < today && t.status !== \"Completed\").length,\n        completionRate: totalTasksCount > 0 ? Math.round((completedTasksCount / totalTasksCount) * 100) : 0,\n      }\n    }\n\n    lastLoadTime = now\n  } catch (error) {\n    console.error(\"Error loading data:\", error)\n  } finally {\n    loading.value = false\n  }\n}\n\nfunction handleRefresh(event) {\n  loadData(true).finally(() => {\n    event.target.complete()\n  })\n}\n\nfunction formatDate(dateStr) {\n  if (!dateStr) return \"-\"\n  return $dayjs(dateStr).format(\"MMM D, YYYY\")\n}\n\nfunction getStatusClass(status) {\n  const map = {\n    Active: \"active\",\n    Planning: \"planning\",\n    Completed: \"completed\",\n    \"On Hold\": \"on-hold\",\n    Cancelled: \"cancelled\",\n    Open: \"planning\",\n    Working: \"on-hold\",\n  }\n  return map[status] || \"\"\n}\n\nfunction goToProject(id) {\n  router.push(`/smart-pro/project/${encodeURIComponent(id)}`)\n}\n\nfunction goToTask(id) {\n  router.push(`/smart-pro/task/${encodeURIComponent(id)}`)\n}\n\nfunction goToNotifications() {\n  router.push(\"/smart-pro/notifications\")\n}\n\nasync function loadNotificationCount() {\n  try {\n    const count = await call(\"frappe.client.get_count\", {\n      doctype: \"Notification Log\",\n      filters: {\n        for_user: [\"like\", \"%\"],\n        read: 0\n      }\n    })\n    notificationCount.value = count || 0\n  } catch (err) {\n    console.error(\"Error loading notification count:\", err)\n    notificationCount.value = 0\n  }\n}\n\nasync function loadAppSettings() {\n  try {\n    const settings = await call(\"smart_pro.smart_pro.api.projects.get_app_settings\")\n    if (settings && settings.app_name) {\n      appName.value = settings.app_name\n    }\n  } catch (err) {\n    console.error(\"Error loading app settings:\", err)\n  }\n}\n\nfunction initDarkMode() {\n  // Check localStorage for user preference\n  const savedTheme = localStorage.getItem(\"smart-pro-theme\")\n  if (savedTheme === \"dark\") {\n    isDarkMode.value = true\n    document.body.classList.add(\"dark\")\n    document.body.classList.remove(\"light\")\n  } else if (savedTheme === \"light\") {\n    isDarkMode.value = false\n    document.body.classList.add(\"light\")\n    document.body.classList.remove(\"dark\")\n  } else {\n    // Check system preference\n    const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n    isDarkMode.value = prefersDark\n  }\n}\n\nfunction toggleDarkMode() {\n  isDarkMode.value = !isDarkMode.value\n  if (isDarkMode.value) {\n    document.body.classList.add(\"dark\")\n    document.body.classList.remove(\"light\")\n    localStorage.setItem(\"smart-pro-theme\", \"dark\")\n  } else {\n    document.body.classList.remove(\"dark\")\n    document.body.classList.add(\"light\")\n    localStorage.setItem(\"smart-pro-theme\", \"light\")\n  }\n}\n\nonMounted(() => {\n  initDarkMode()\n  loadAppSettings()\n  loadData()\n  loadNotificationCount()\n})\n\n// Reload data when navigating back to this tab\nonIonViewWillEnter(() => {\n  loadData()\n  loadNotificationCount()\n})\n</script>\n\n<style scoped>\n.notification-btn {\n  position: relative;\n}\n\n.notification-badge {\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  min-width: 18px;\n  height: 18px;\n  padding: 0 4px;\n  font-size: 10px;\n  font-weight: 700;\n  line-height: 18px;\n  text-align: center;\n  color: white;\n  background-color: #ef4444;\n  border-radius: 9px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n}\n</style>\n"],"names":["CACHE_TTL","router","useRouter","$dayjs","inject","fetchPermissions","hasFullAccess","usePermissions","loading","ref","projects","tasks","stats","insights","notificationCount","appName","isDarkMode","projectsResource","createResource","tasksResource","lastLoadTime","loadData","forceRefresh","__async","now","allProjects","allTasks","call","fullAccessError","p","t","today","completedTasksCount","totalTasksCount","error","handleRefresh","event","formatDate","dateStr","getStatusClass","status","goToProject","id","goToTask","goToNotifications","loadNotificationCount","count","err","loadAppSettings","settings","initDarkMode","savedTheme","prefersDark","toggleDarkMode","onMounted","onIonViewWillEnter","_createBlock","_unref","IonPage","_createVNode","IonHeader","IonToolbar","IonTitle","IonButtons","IonButton","IonIcon","sunnyOutline","moonOutline","notificationsOutline","_openBlock","_createElementBlock","_hoisted_1","_toDisplayString","IonContent","IonRefresher","IonRefresherContent","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_cache","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","$event","_hoisted_10","_hoisted_11","_hoisted_12","_Fragment","_renderList","project","_hoisted_14","_hoisted_15","_hoisted_16","_normalizeClass","_hoisted_17","_hoisted_18","_hoisted_19","gitNetworkOutline","chevronForwardOutline","_hoisted_20","_hoisted_21","analyticsOutline","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","task","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_normalizeStyle"],"mappings":"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"}