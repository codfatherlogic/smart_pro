var x=(f,c,t)=>new Promise((l,s)=>{var n=e=>{try{o(t.next(e))}catch(r){s(r)}},m=e=>{try{o(t.throw(e))}catch(r){s(r)}},o=e=>e.done?l(e.value):Promise.resolve(e.value).then(n,m);o((t=t.apply(f,c)).next())});import{f as w,r as i,A as g,q as p,t as d,M as h,l as v,n as u,x as a,k as V,N as _,R as I,v as k,y as b,z as S}from"./frappe-ui-5f3Xtay5.js";import{r as N,N as y,n as P,M as B,i as L}from"./index-By_Ni_xe.js";const M={class:"flex flex-col items-center justify-center min-h-full"},j={class:"w-full max-w-sm"},q={class:"app-card p-6"},C={class:"mb-4"},E={class:"mb-6"},R={key:0,class:"mt-4 p-3 bg-red-50 text-red-600 rounded-lg text-sm"},U={__name:"Login",setup(f){const c=h(),t=i(""),l=i(""),s=i(!1),n=i("");function m(){return x(this,null,function*(){var o;if(!(!t.value||!l.value)){s.value=!0,n.value="";try{yield S("login",{usr:t.value,pwd:l.value}),c.push("/smart-pro/home")}catch(e){console.error("Login error:",e),n.value=((o=e.messages)==null?void 0:o[0])||"Invalid email or password"}finally{s.value=!1}}})}return(o,e)=>(v(),g(d(L),null,{default:p(()=>[u(d(N),{fullscreen:!0,class:"ion-padding"},{default:p(()=>[a("div",M,[e[3]||(e[3]=a("div",{class:"mb-8 text-center"},[a("div",{class:"w-20 h-20 rounded-2xl bg-primary-500 flex items-center justify-center mx-auto mb-4"},[a("span",{class:"text-3xl font-bold text-white"},"SP")]),a("h1",{class:"text-2xl font-bold text-gray-800"}," Smart Pro "),a("p",{class:"text-gray-500"}," Project Management ")],-1)),a("div",j,[a("div",q,[a("form",{onSubmit:I(m,["prevent"])},[a("div",C,[u(d(y),{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=r=>t.value=r),type:"email",placeholder:"Email",fill:"outline",disabled:s.value,required:""},null,8,["modelValue","disabled"])]),a("div",E,[u(d(y),{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=r=>l.value=r),type:"password",placeholder:"Password",fill:"outline",disabled:s.value,required:""},null,8,["modelValue","disabled"])]),u(d(P),{expand:"block",type:"submit",disabled:s.value||!t.value||!l.value},{default:p(()=>[s.value?(v(),g(d(B),{key:0,name:"crescent",class:"mr-2"})):_("",!0),k(" "+b(s.value?"Signing in...":"Sign In"),1)]),_:1},8,["disabled"])],32),n.value?(v(),V("div",R,b(n.value),1)):_("",!0)]),e[2]||(e[2]=a("div",{class:"text-center mt-6 text-sm text-gray-500"},[a("a",{href:"/login#forgot",class:"text-primary-500"},"Forgot Password?")],-1))])])]),_:1})]),_:1}))}},F=w(U,[["__scopeId","data-v-1bd897ea"]]);export{F as default};
//# sourceMappingURL=Login-Dv9Qm7P1.js.map
