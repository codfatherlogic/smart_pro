{"version":3,"file":"Login-Dv9Qm7P1.js","sources":["../../../frontend/src/views/Login.vue"],"sourcesContent":["<template>\n  <ion-page>\n    <ion-content\n      :fullscreen=\"true\"\n      class=\"ion-padding\"\n    >\n      <div class=\"flex flex-col items-center justify-center min-h-full\">\n        <!-- Logo -->\n        <div class=\"mb-8 text-center\">\n          <div\n            class=\"w-20 h-20 rounded-2xl bg-primary-500 flex items-center justify-center mx-auto mb-4\"\n          >\n            <span class=\"text-3xl font-bold text-white\">SP</span>\n          </div>\n          <h1 class=\"text-2xl font-bold text-gray-800\">\n            Smart Pro\n          </h1>\n          <p class=\"text-gray-500\">\n            Project Management\n          </p>\n        </div>\n\n        <!-- Login Form -->\n        <div class=\"w-full max-w-sm\">\n          <div class=\"app-card p-6\">\n            <form @submit.prevent=\"handleLogin\">\n              <div class=\"mb-4\">\n                <ion-input\n                  v-model=\"email\"\n                  type=\"email\"\n                  placeholder=\"Email\"\n                  fill=\"outline\"\n                  :disabled=\"loading\"\n                  required\n                />\n              </div>\n\n              <div class=\"mb-6\">\n                <ion-input\n                  v-model=\"password\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  fill=\"outline\"\n                  :disabled=\"loading\"\n                  required\n                />\n              </div>\n\n              <ion-button\n                expand=\"block\"\n                type=\"submit\"\n                :disabled=\"loading || !email || !password\"\n              >\n                <ion-spinner\n                  v-if=\"loading\"\n                  name=\"crescent\"\n                  class=\"mr-2\"\n                />\n                {{ loading ? \"Signing in...\" : \"Sign In\" }}\n              </ion-button>\n            </form>\n\n            <div\n              v-if=\"error\"\n              class=\"mt-4 p-3 bg-red-50 text-red-600 rounded-lg text-sm\"\n            >\n              {{ error }}\n            </div>\n          </div>\n\n          <div class=\"text-center mt-6 text-sm text-gray-500\">\n            <a\n              href=\"/login#forgot\"\n              class=\"text-primary-500\"\n            >Forgot Password?</a>\n          </div>\n        </div>\n      </div>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script setup>\nimport { ref } from \"vue\"\nimport { useRouter } from \"vue-router\"\nimport { IonPage, IonContent, IonInput, IonButton, IonSpinner } from \"@ionic/vue\"\nimport { call } from \"frappe-ui\"\n\nconst router = useRouter()\n\nconst email = ref(\"\")\nconst password = ref(\"\")\nconst loading = ref(false)\nconst error = ref(\"\")\n\nasync function handleLogin() {\n  if (!email.value || !password.value) return\n\n  loading.value = true\n  error.value = \"\"\n\n  try {\n    await call(\"login\", {\n      usr: email.value,\n      pwd: password.value,\n    })\n\n    // Redirect to home on success\n    router.push(\"/smart-pro/home\")\n  } catch (err) {\n    console.error(\"Login error:\", err)\n    error.value = err.messages?.[0] || \"Invalid email or password\"\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n\n<style scoped>\nion-content {\n  --background: linear-gradient(180deg, #f8fafc 0%, #e2e8f0 100%);\n}\n</style>\n"],"names":["router","useRouter","email","ref","password","loading","error","handleLogin","__async","call","err","_a","_createBlock","_unref","IonPage","_createVNode","IonContent","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","IonInput","$event","_hoisted_5","IonButton","IonSpinner","_createTextVNode","_createElementBlock","_hoisted_6","_toDisplayString"],"mappings":"6pBAwFA,MAAMA,EAASC,EAAS,EAElBC,EAAQC,EAAI,EAAE,EACdC,EAAWD,EAAI,EAAE,EACjBE,EAAUF,EAAI,EAAK,EACnBG,EAAQH,EAAI,EAAE,EAEpB,SAAeI,GAAc,QAAAC,EAAA,4BAC3B,GAAI,GAACN,EAAM,OAAS,CAACE,EAAS,OAE9B,CAAAC,EAAQ,MAAQ,GAChBC,EAAM,MAAQ,GAEd,GAAI,CACF,MAAMG,EAAK,QAAS,CAClB,IAAKP,EAAM,MACX,IAAKE,EAAS,KACpB,CAAK,EAGDJ,EAAO,KAAK,iBAAiB,CAC/B,OAASU,EAAK,CACZ,QAAQ,MAAM,eAAgBA,CAAG,EACjCJ,EAAM,QAAQK,EAAAD,EAAI,WAAJ,YAAAC,EAAe,KAAM,2BACrC,QAAC,CACCN,EAAQ,MAAQ,EAClB,EACF,qBAlHEO,EA8EWC,EAAAC,CAAA,EAAA,KAAA,WA7ET,IA4Ec,CA5EdC,EA4EcF,EAAAG,CAAA,EAAA,CA3EX,WAAY,GACb,MAAM,0BAEN,IAuEM,CAvENC,EAuEM,MAvENC,EAuEM,aArEJD,EAYM,MAAA,CAZD,MAAM,oBAAkB,CAC3BA,EAIM,MAAA,CAHJ,MAAM,oFAAoF,EAAA,CAE1FA,EAAqD,OAAA,CAA/C,MAAM,+BAA+B,EAAC,IAAE,IAEhDA,EAEK,KAAA,CAFD,MAAM,kCAAkC,EAAC,aAE7C,EACAA,EAEI,IAAA,CAFD,MAAM,eAAe,EAAC,sBAEzB,QAIFA,EAqDM,MArDNE,EAqDM,CApDJF,EA4CM,MA5CNG,EA4CM,CA3CJH,EAmCO,OAAA,CAnCA,WAAgBV,EAAW,CAAA,SAAA,CAAA,IAChCU,EASM,MATNI,EASM,CARJN,EAOEF,EAAAS,CAAA,EAAA,YANSpB,EAAA,2CAAAA,EAAK,MAAAqB,GACd,KAAK,QACL,YAAY,QACZ,KAAK,UACJ,SAAUlB,EAAA,MACX,SAAA,wCAIJY,EASM,MATNO,EASM,CARJT,EAOEF,EAAAS,CAAA,EAAA,YANSlB,EAAA,2CAAAA,EAAQ,MAAAmB,GACjB,KAAK,WACL,YAAY,WACZ,KAAK,UACJ,SAAUlB,EAAA,MACX,SAAA,wCAIJU,EAWaF,EAAAY,CAAA,EAAA,CAVX,OAAO,QACP,KAAK,SACJ,SAAUpB,EAAA,OAAO,CAAKH,EAAA,QAAUE,EAAA,kBAEjC,IAIE,CAHMC,EAAA,WADRO,EAIEC,EAAAa,CAAA,EAAA,OAFA,KAAK,WACL,MAAM,mBACNC,EAAA,MACCtB,EAAA,MAAO,gBAAA,SAAA,EAAA,CAAA,8BAKNC,EAAA,WADRsB,EAKM,MALNC,EAKMC,EADDxB,EAAA,KAAK,EAAA,CAAA,0BAIZW,EAKM,MAAA,CALD,MAAM,0CAAwC,CACjDA,EAGqB,IAAA,CAFnB,KAAK,gBACL,MAAM,oBACP,kBAAgB"}