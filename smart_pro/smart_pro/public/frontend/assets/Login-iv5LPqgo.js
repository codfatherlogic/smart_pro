var x=(v,c,t)=>new Promise((l,s)=>{var n=e=>{try{o(t.next(e))}catch(r){s(r)}},m=e=>{try{o(t.throw(e))}catch(r){s(r)}},o=e=>e.done?l(e.value):Promise.resolve(e.value).then(n,m);o((t=t.apply(v,c)).next())});import{C as w,a as i,e as g,j as p,l as d,G as h,f,k as u,H as a,J as I,O as _,Q as V,D as k,I as b,P}from"./frappe-ui-BxXHPJLj.js";import{j as S,A as y,m as B,B as j,f as C}from"./index-CDDuZJGk.js";const L={class:"flex flex-col items-center justify-center min-h-full"},N={class:"w-full max-w-sm"},q={class:"app-card p-6"},D={class:"mb-4"},E={class:"mb-6"},M={key:0,class:"mt-4 p-3 bg-red-50 text-red-600 rounded-lg text-sm"},U={__name:"Login",setup(v){const c=h(),t=i(""),l=i(""),s=i(!1),n=i("");function m(){return x(this,null,function*(){var o;if(!(!t.value||!l.value)){s.value=!0,n.value="";try{yield P("login",{usr:t.value,pwd:l.value}),c.push("/smart-pro/home")}catch(e){console.error("Login error:",e),n.value=((o=e.messages)==null?void 0:o[0])||"Invalid email or password"}finally{s.value=!1}}})}return(o,e)=>(f(),g(d(C),null,{default:p(()=>[u(d(S),{fullscreen:!0,class:"ion-padding"},{default:p(()=>[a("div",L,[e[3]||(e[3]=a("div",{class:"mb-8 text-center"},[a("div",{class:"w-20 h-20 rounded-2xl bg-primary-500 flex items-center justify-center mx-auto mb-4"},[a("span",{class:"text-3xl font-bold text-white"},"SP")]),a("h1",{class:"text-2xl font-bold text-gray-800"},"Smart Pro"),a("p",{class:"text-gray-500"},"Project Management")],-1)),a("div",N,[a("div",q,[a("form",{onSubmit:V(m,["prevent"])},[a("div",D,[u(d(y),{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=r=>t.value=r),type:"email",placeholder:"Email",fill:"outline",disabled:s.value,required:""},null,8,["modelValue","disabled"])]),a("div",E,[u(d(y),{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=r=>l.value=r),type:"password",placeholder:"Password",fill:"outline",disabled:s.value,required:""},null,8,["modelValue","disabled"])]),u(d(B),{expand:"block",type:"submit",disabled:s.value||!t.value||!l.value},{default:p(()=>[s.value?(f(),g(d(j),{key:0,name:"crescent",class:"mr-2"})):_("",!0),k(" "+b(s.value?"Signing in...":"Sign In"),1)]),_:1},8,["disabled"])],32),n.value?(f(),I("div",M,b(n.value),1)):_("",!0)]),e[2]||(e[2]=a("div",{class:"text-center mt-6 text-sm text-gray-500"},[a("a",{href:"/login#forgot",class:"text-primary-500"},"Forgot Password?")],-1))])])]),_:1})]),_:1}))}},H=w(U,[["__scopeId","data-v-efa47c13"]]);export{H as default};
//# sourceMappingURL=Login-iv5LPqgo.js.map
