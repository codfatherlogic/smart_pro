{"version":3,"file":"Login-iv5LPqgo.js","sources":["../../../../frontend/src/views/Login.vue"],"sourcesContent":["<template>\n  <ion-page>\n    <ion-content :fullscreen=\"true\" class=\"ion-padding\">\n      <div class=\"flex flex-col items-center justify-center min-h-full\">\n        <!-- Logo -->\n        <div class=\"mb-8 text-center\">\n          <div\n            class=\"w-20 h-20 rounded-2xl bg-primary-500 flex items-center justify-center mx-auto mb-4\"\n          >\n            <span class=\"text-3xl font-bold text-white\">SP</span>\n          </div>\n          <h1 class=\"text-2xl font-bold text-gray-800\">Smart Pro</h1>\n          <p class=\"text-gray-500\">Project Management</p>\n        </div>\n\n        <!-- Login Form -->\n        <div class=\"w-full max-w-sm\">\n          <div class=\"app-card p-6\">\n            <form @submit.prevent=\"handleLogin\">\n              <div class=\"mb-4\">\n                <ion-input\n                  v-model=\"email\"\n                  type=\"email\"\n                  placeholder=\"Email\"\n                  fill=\"outline\"\n                  :disabled=\"loading\"\n                  required\n                ></ion-input>\n              </div>\n\n              <div class=\"mb-6\">\n                <ion-input\n                  v-model=\"password\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  fill=\"outline\"\n                  :disabled=\"loading\"\n                  required\n                ></ion-input>\n              </div>\n\n              <ion-button\n                expand=\"block\"\n                type=\"submit\"\n                :disabled=\"loading || !email || !password\"\n              >\n                <ion-spinner v-if=\"loading\" name=\"crescent\" class=\"mr-2\"></ion-spinner>\n                {{ loading ? \"Signing in...\" : \"Sign In\" }}\n              </ion-button>\n            </form>\n\n            <div v-if=\"error\" class=\"mt-4 p-3 bg-red-50 text-red-600 rounded-lg text-sm\">\n              {{ error }}\n            </div>\n          </div>\n\n          <div class=\"text-center mt-6 text-sm text-gray-500\">\n            <a href=\"/login#forgot\" class=\"text-primary-500\">Forgot Password?</a>\n          </div>\n        </div>\n      </div>\n    </ion-content>\n  </ion-page>\n</template>\n\n<script setup>\nimport { ref } from \"vue\"\nimport { useRouter } from \"vue-router\"\nimport { IonPage, IonContent, IonInput, IonButton, IonSpinner } from \"@ionic/vue\"\nimport { call } from \"frappe-ui\"\n\nconst router = useRouter()\n\nconst email = ref(\"\")\nconst password = ref(\"\")\nconst loading = ref(false)\nconst error = ref(\"\")\n\nasync function handleLogin() {\n  if (!email.value || !password.value) return\n\n  loading.value = true\n  error.value = \"\"\n\n  try {\n    await call(\"login\", {\n      usr: email.value,\n      pwd: password.value,\n    })\n\n    // Redirect to home on success\n    router.push(\"/smart-pro/home\")\n  } catch (err) {\n    console.error(\"Login error:\", err)\n    error.value = err.messages?.[0] || \"Invalid email or password\"\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n\n<style scoped>\nion-content {\n  --background: linear-gradient(180deg, #f8fafc 0%, #e2e8f0 100%);\n}\n</style>\n"],"names":["router","useRouter","email","ref","password","loading","error","handleLogin","__async","call","err","_a","_createBlock","_unref","IonPage","_createVNode","IonContent","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","IonInput","$event","_hoisted_5","IonButton","IonSpinner","_createTextVNode","_createElementBlock","_hoisted_6","_toDisplayString"],"mappings":"mpBAuEA,MAAMA,EAASC,EAAS,EAElBC,EAAQC,EAAI,EAAE,EACdC,EAAWD,EAAI,EAAE,EACjBE,EAAUF,EAAI,EAAK,EACnBG,EAAQH,EAAI,EAAE,EAEpB,SAAeI,GAAc,QAAAC,EAAA,4BAC3B,GAAI,GAACN,EAAM,OAAS,CAACE,EAAS,OAE9B,CAAAC,EAAQ,MAAQ,GAChBC,EAAM,MAAQ,GAEd,GAAI,CACF,MAAMG,EAAK,QAAS,CAClB,IAAKP,EAAM,MACX,IAAKE,EAAS,KACpB,CAAK,EAGDJ,EAAO,KAAK,iBAAiB,CAC/B,OAASU,EAAK,CACZ,QAAQ,MAAM,eAAgBA,CAAG,EACjCJ,EAAM,QAAQK,EAAAD,EAAI,WAAJ,YAAAC,EAAe,KAAM,2BACrC,QAAC,CACCN,EAAQ,MAAQ,EAClB,EACF,qBAjGEO,EA6DWC,EAAAC,CAAA,EAAA,KAAA,WA5DT,IA2Dc,CA3DdC,EA2DcF,EAAAG,CAAA,EAAA,CA3DA,WAAY,GAAM,MAAM,0BACpC,IAyDM,CAzDNC,EAyDM,MAzDNC,EAyDM,aAvDJD,EAQM,MAAA,CARD,MAAM,oBAAkB,CAC3BA,EAIM,MAAA,CAHJ,MAAM,oFAAoF,EAAA,CAE1FA,EAAqD,OAAA,CAA/C,MAAM,+BAA+B,EAAC,IAAE,IAEhDA,EAA2D,KAAA,CAAvD,MAAM,kCAAkC,EAAC,WAAS,EACtDA,EAA+C,IAAA,CAA5C,MAAM,eAAe,EAAC,oBAAkB,QAI7CA,EA2CM,MA3CNE,EA2CM,CA1CJF,EAqCM,MArCNG,EAqCM,CApCJH,EA+BO,OAAA,CA/BA,WAAgBV,EAAW,CAAA,SAAA,CAAA,IAChCU,EASM,MATNI,EASM,CARJN,EAOaF,EAAAS,CAAA,EAAA,YANFpB,EAAA,2CAAAA,EAAK,MAAAqB,GACd,KAAK,QACL,YAAY,QACZ,KAAK,UACJ,SAAUlB,EAAA,MACX,SAAA,wCAIJY,EASM,MATNO,EASM,CARJT,EAOaF,EAAAS,CAAA,EAAA,YANFlB,EAAA,2CAAAA,EAAQ,MAAAmB,GACjB,KAAK,WACL,YAAY,WACZ,KAAK,UACJ,SAAUlB,EAAA,MACX,SAAA,wCAIJU,EAOaF,EAAAY,CAAA,EAAA,CANX,OAAO,QACP,KAAK,SACJ,SAAUpB,EAAA,OAAO,CAAKH,EAAA,QAAUE,EAAA,kBAEjC,IAAuE,CAApDC,EAAA,WAAnBO,EAAuEC,EAAAa,CAAA,EAAA,OAA3C,KAAK,WAAW,MAAM,mBAAqBC,EAAA,MACpEtB,EAAA,MAAO,gBAAA,SAAA,EAAA,CAAA,8BAIHC,EAAA,WAAXsB,EAEM,MAFNC,EAEMC,EADDxB,EAAA,KAAK,EAAA,CAAA,0BAIZW,EAEM,MAAA,CAFD,MAAM,0CAAwC,CACjDA,EAAqE,IAAA,CAAlE,KAAK,gBAAgB,MAAM,oBAAmB,kBAAgB"}